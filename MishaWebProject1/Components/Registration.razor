
<div style="border:1px solid">
    @if (reg) { 
<input @bind="name" placeholder="Имя"/>
<div></div>
<input @bind="name2" placeholder="Фамилия" />
<div></div>
    }
<input @bind="nickname" placeholder="Никнейм"/>
<div></div>
 <input @bind="password" placeholder="Пароль"/>
<div></div>
 <input @bind="passwordR" placeholder="Повторите пароль"/>
<div></div>
<button class="btn btn-primary" @onclick="addPerson">@(onBtn)</button>
</div>


@code {
    [Parameter]
    public EventCallback handler { get; set; }

    bool reg = false;

    string name = "";
    string name2 = "";
    string nickname = "";
    string password = "";
    string passwordR = "";

    string onBtn = "Зарегистрироваться";
    static List<Person> group = new List<Person>();

    private void addPerson()

    {

        if (name =="" || name2 == "" || nickname =="")
        {
            onBtn = "Заполните все поля";
            return;
        }
        foreach (Person p in group)
        {
            if (p.name == name && p.name2==name2 && p.nickname == nickname)
            {
                onBtn = "Это человек уже есть! Войдите";
                return;
            }
        }


        group.Add(new Person() { name = name, name2=name2, nickname=nickname,password=password }) ;
        handler.InvokeAsync((string)nickname);
    }

    public class Person
    {
        public string name;
        public string name2;
        public string nickname;
        public string password;

    }


}
